<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- This file has been generated by Salto-db Generator Ant v1.0.15 / Hibernate pojos and xml mapping files. at Sat Feb 06 09:46:37 EST 2010 -->
<hibernate-mapping>
  <class name="net.aegis.lab.dao.pojo.Scenarioexecution" table="scenarioexecution">
    <id name="scenarioExecutionId">
      <generator class="native"/>
    </id>
    <many-to-one column="participantId" name="participant"/>
    <many-to-one column="scenarioId" name="scenario"/>
    <property column="executionUniqueId" name="executionUniqueId"/>
    <property column="status" name="status"/>
    <property column="beginTime" name="beginTime"/>
    <property column="endTime" name="endTime"/>
    <property column="submitComments" name="submitComments"/>
    <property column="validationComments" name="validationComments"/>
    <bag inverse="true" name="caseexecutions">
      <key column="scenarioExecutionId"/>
      <one-to-many class="net.aegis.lab.dao.pojo.Caseexecution"/>
    </bag>
    <filter condition=":pL = :pR &amp; (select ss.labAccessFilter from serviceset ss, servicesetexecution sse           where ss.setId = sse.setId and sse.executionUniqueId = substring_index(executionUniqueId , &apos;.&apos;, 4)) " name="ScenarioexecutionDAO"/>
  </class>
  <query name="Scenarioexecution.findByScenarioExecutionId">

        from Scenarioexecution s where s.scenarioExecutionId = :scenarioExecutionId

    </query>
  <query name="Scenarioexecution.findByStatusAndParticipantId">

        from Scenarioexecution s where s.participant.participantId = :participantId and s.status = :status

    </query>
  <query name="Scenarioexecution.findByParticipantId">

        from Scenarioexecution s where s.participant.participantId = :participantId
        
    </query>
  <query name="Scenarioexecution.findByExecutionUniqueId">

        from Scenarioexecution s where s.executionUniqueId like :execUniqueId

    </query>
  <filter-def name="ScenarioexecutionDAO">
    <filter-param name="pL" type="int"/>
    <filter-param name="pR" type="int"/>
  </filter-def>
</hibernate-mapping>
